<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snailkarts – Engineered to Drift</title>
  <meta name="description" content="Snailkarts builds precision S-kart-Go racing karts designed for controllable slides, durability, and fun. Es-kart-Go electric version coming soon.">

  <!-- Social previews -->
  <meta property="og:title" content="Snailkarts – Engineered to Drift">
  <meta property="og:description" content="Precision-built karts for drifting. Meet the S-kart-Go and Es-kart-Go.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://assets.codepen.io/15323229/IMG_4932.png">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#0a0b0f">

  <!-- Styles (cache-busted) -->
  <link rel="stylesheet" href="style.css?v=7.5" />

  <!-- Plausible Analytics (safe-queued) -->
  <script>
    // Tiny queue so calls never throw even if the script is blocked
    (function () {
      window.plausibleQueue = [];
      window.plausible = function(){ window.plausibleQueue.push(arguments); };
      window.onPlausibleLoaded = function(){
        // Replace shim with real function once script loads
        if (window.plausible && window.plausible.loaded) return; // guard
        var real = window.plausible;
        // After plausible script sets window.plausible, flush queued events
        var flush = function(){
          try {
            var q = window.plausibleQueue || [];
            for (var i=0;i<q.length;i++){
              window.plausible.apply(null, q[i]);
            }
            window.plausibleQueue = [];
          } catch(e){}
        };
        // Mark as loaded and flush later in onload of real script (below)
        real.loaded = true;
        flush();
      };
    })();
  </script>
  <script defer data-domain="snailkarts.com" src="https://plausible.io/js/script.js" onload="onPlausibleLoaded()"></script>
  <noscript><style>body{opacity:1}</style></noscript>
</head>
<body>
  <header class="site-header">
    <a class="brand" href="#home" data-link>
      <span class="logo-badge">
        <img class="logo" src="https://assets.codepen.io/15323229/IMG_4932.png" alt="Snailkarts logo">
      </span>
      <span class="brand-text">Snailkarts</span>
    </a>

    <button class="nav-toggle" aria-label="Open navigation" aria-expanded="false">☰</button>

    <nav class="site-nav" id="nav">
      <a href="#home" data-link>Home</a>
      <a href="#karts" data-link>Karts</a>
      <a href="#gallery" data-link>Gallery</a>
      <a href="#build" data-link>Build</a>
      <a href="#contact" class="cta neon-btn pulse" data-link data-track="cta" data-label="Contact">Contact</a>

      <!-- Follow + social icons (top of page) -->
      <div class="social-wrap" aria-label="Follow Snailkarts">
        <span class="follow-label">Follow us</span>
        <div class="social-icons">
          <a href="https://instagram.com/Snailkarts" target="_blank" rel="noopener" aria-label="Instagram @Snailkarts" title="Instagram @Snailkarts">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2zM12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>
          </a>
          <a href="https://youtube.com/@Snailkarts" target="_blank" rel="noopener" aria-label="YouTube @Snailkarts" title="YouTube @Snailkarts">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 0 0 .5 6.2 31 31 0 0 0 0 12a31 31 0 0 0 .6 5.8 3 3 0 0 0 2.1 2.1c1.9.6 9.3.6 9.3.6s7.5 0 9.4-.6a3 3 0 0 0 2.1-2.1 31 31 0 0 0 .6-5.8 31 31 0 0 0-.6-5.8zM9.8 15.5v-7l6.3 3.5-6.3 3.5z"/></svg>
          </a>
          <a href="https://www.tiktok.com/@Formandforgellc" target="_blank" rel="noopener" aria-label="TikTok @Formandforgellc" title="TikTok @Formandforgellc">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M16.8 3.2c.8 1.3 2.1 2.4 3.6 2.9v3.1a8.5 8.5 0 0 1-4.3-1.2v6.8a6.8 6.8 0 1 1-6.8-6.8c.5 0 1 .1 1.5.2v3.2a3.6 3.6 0 1 0 2.5 3.4V2.5h3.5v.7z"/></svg>
          </a>
        </div>
      </div>
    </nav>
  </header>

  <main id="app">
    <!-- HERO -->
    <section id="home" class="route hero neon">
      <div class="hero-media">
        <video class="hero-video" autoplay muted loop playsinline poster="https://assets.codepen.io/15323229/IMG_4932.png">
          <source src="https://assets.codepen.io/15323229/469ec902-6f85-d318-7491-a350336f4989_custom.mp4" type="video/mp4">
        </video>
      </div>
      <div class="hero-content container floaty">
        <h1><span class="stroke">Engineered</span> <span class="glow">to Drift</span></h1>
        <p class="hero-sub neon-text">Precision-built karts tuned for smooth slides.</p>
        <div class="hero-actions">
          <a href="#karts" class="btn neon-btn pulse" data-link data-track="cta" data-label="Explore Karts">Explore Karts</a>
          <a href="#build" class="btn secondary" data-link data-track="cta" data-label="Configure Build">Configure Build</a>
        </div>
      </div>
    </section>

    <!-- KARTS -->
    <section id="karts" class="route section hidden">
      <div class="karts-video-bg">
        <video autoplay muted loop playsinline>
          <source src="https://assets.codepen.io/15323229/bbfbad66-75a9-0c8b-f385-7a491f2940e8_custom.mp4" type="video/mp4">
        </video>
        <div class="karts-overlay"></div>
      </div>

      <div class="karts-content">
        <div class="section-head">
          <h1 class="neon-text">Our Karts</h1>
          <p>Launching with the S-kart-Go. Electric Es-kart-Go coming soon.</p>
        </div>

        <div class="cards hover-lift">
          <!-- S-kart-Go -->
          <article class="card">
            <div class="card-media">
              <video class="card-video" autoplay muted loop playsinline>
                <source src="https://assets.codepen.io/15323229/43bd0f6c-6c62-888e-903f-4df78a449110_custom.mp4" type="video/mp4">
              </video>
            </div>
            <div class="card-body">
              <h3 class="neon-text">S-kart-Go</h3>
              <ul class="specs">
                <li>Hydraulic rear disc brake</li>
                <li>Hydraulic E-brake handle</li>
                <li>3-speed 125cc engine</li>
                <li>Custom lighting & colors</li>
                <li>Keyed ignition for security</li>
                <li>Push-to-start button</li>
              </ul>
              <a class="btn neon-btn pulse" href="#build" data-link data-track="cta" data-label="Configure & Request Quote">Configure & Request Quote</a>
            </div>
          </article>

          <!-- Es-kart-Go (Coming Soon) -->
          <article class="card">
            <div class="coming-badge">Coming Soon</div>
            <img src="https://assets.codepen.io/15323229/Photo%20Sep%2002%202025%2C%209%2003%2029%20PM%20%281%29.jpg" alt="Green Es-kart-Go prototype">
            <div class="card-body">
              <h3 class="neon-text">Es-kart-Go</h3>
              <ul class="specs">
                <li>Balanced weight distribution</li>
                <li>Drift-ready chassis setup</li>
                <li>Service-friendly open layout</li>
              </ul>
              <a class="btn secondary" href="#build" data-link data-track="cta" data-label="Join Waitlist">Join Waitlist</a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="route section hidden">
      <div class="gallery-video-bg">
        <video autoplay muted loop playsinline>
          <source src="https://assets.codepen.io/15323229/72ba602c-7f10-d743-5218-bd99e9be7543_custom.mp4" type="video/mp4">
        </video>
        <div class="gallery-overlay"></div>
      </div>

      <div class="gallery-content">
        <div class="section-head">
          <h1 class="neon-text">Gallery</h1>
          <p>Workshop snapshots and in-progress builds.</p>
        </div>
        <div class="masonry hover-lift">
          <figure class="tile"><img src="https://assets.codepen.io/15323229/IMG_4933%20%281%29.png" alt="Snailkarts mascot keychain" /></figure>
          <figure class="tile"><img src="https://assets.codepen.io/15323229/IMG_4932.png" alt="Snailkarts logo artwork" /></figure>
          <figure class="tile"><img src="https://assets.codepen.io/15323229/Photo%20Sep%2002%202025%2C%209%2003%2029%20PM%20%281%29.jpg" alt="Green Snailkart angled front" /></figure>
          <figure class="tile"><img src="https://assets.codepen.io/15323229/Photo%20Sep%2002%202025%2C%209%2003%2029%20PM%20%282%29.jpg" alt="Green Snailkart side view" /></figure>
          <figure class="tile"><img src="https://assets.codepen.io/15323229/IMG_4806.jpg" alt="Pair of karts top view" /></figure>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials" class="route section container hidden">
      <div class="section-head">
        <h2 class="neon-text">What Drivers Say</h2>
        <p>Real feedback from test days and early owners.</p>
      </div>
      <div class="cards testimonials hover-lift">
        <article class="card quote">
          <p>“The chassis rotation is super predictable. You can hang it out and bring it back—zero surprises.”</p>
          <div class="quote-meta"><span class="dot"></span><span>Alex R. — Track day regular</span></div>
        </article>
        <article class="card quote">
          <p>“E-brake plus rear hydro disc is perfect for initiations. It just does what you ask.”</p>
          <div class="quote-meta"><span class="dot"></span><span>Marisol V. — Drift novice to addict</span></div>
        </article>
        <article class="card quote">
          <p>“We put a dozen hours on it the first weekend. Nothing broke. Maintenance is easy.”</p>
          <div class="quote-meta"><span class="dot"></span><span>Ken P. — Rental fleet owner</span></div>
        </article>
      </div>
    </section>

    <!-- BUILD -->
    <section id="build" class="route section hidden">
      <div class="build-video-bg">
        <video autoplay muted loop playsinline>
          <source src="https://assets.codepen.io/15323229/VideoAug30202542731PM-ezgif.com-resize-video.mov" type="video/mp4">
        </video>
        <div class="build-overlay"></div>
      </div>

      <div class="build-content">
        <div class="section-head neon-head">
          <h1 class="neon-text">Build Your Snailkart</h1>
          <div class="neon-underline"></div>
          <p class="neon-sub">Choose your spec. We’ll review and send a quote.</p>
        </div>

        <div class="contact-card neon-card neon-scan">
          <div class="contact-body">
            <form id="buildForm" action="https://formspree.io/f/xandlqzb" method="POST" class="contact-form">
              <input type="hidden" name="_subject" value="New Snailkart Build Request">
              <input type="hidden" name="formType" value="Build Sheet">
              <input type="text" name="_gotcha" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;height:0;width:0;opacity:0">

              <div class="grid" style="grid-template-columns:1fr 1fr;gap:1rem;">
                <div>
                  <label for="kartType" class="neon-text">Kart Type</label>
                  <select id="kartType" name="Kart Type" required>
                    <option value="Gas">Gas (125cc, 3-speed)</option>
                    <option value="Electric">Electric (Es-kart-Go)</option>
                  </select>
                </div>
                <div>
                  <label for="frame" class="neon-text">Frame</label>
                  <select id="frame" name="Frame">
                    <option value="Standard">Standard</option>
                    <option value="Custom">Custom</option>
                  </select>
                </div>
                <div>
                  <label for="seat" class="neon-text">Seat Type</label>
                  <select id="seat" name="Seat">
                    <option value="Bucket">Bucket</option>
                    <option value="Racing">Racing</option>
                    <option value="Padded">Padded</option>
                  </select>
                </div>
                <div>
                  <label for="steering" class="neon-text">Steering Wheel</label>
                  <select id="steering" name="Steering Wheel">
                    <option value="Standard">Standard</option>
                    <option value="D-Shape">D-Shape</option>
                    <option value="Formula">Formula</option>
                  </select>
                </div>
                <div>
                  <label for="kartColor" class="neon-text">Kart Color</label>
                  <input id="kartColor" type="color" name="Kart Color" value="#c8ff00">
                </div>
                <div>
                  <label for="lighting" class="neon-text">Lighting Color</label>
                  <select id="lighting" name="Lighting">
                    <option value="Red">Red</option>
                    <option value="Blue">Blue</option>
                    <option value="Green">Green</option>
                    <option value="White">White</option>
                    <option value="Custom">Custom</option>
                  </select>
                </div>
                <div>
                  <label for="tank" class="neon-text">Gas Tank</label>
                  <select id="tank" name="Gas Tank">
                    <option value="Standard">Standard</option>
                    <option value="Extended">Extended</option>
                    <option value="None">None</option>
                  </select>
                </div>
                <div style="display:flex;align-items:flex-end;">
                  <label style="display:flex;gap:.5rem;align-items:center;">
                    <input type="checkbox" name="Extra Drift Sleeves" value="Yes">
                    <span class="neon-text">Add Extra PVC Drift Sleeves</span>
                  </label>
                </div>
              </div>

              <h3 class="neon-text" style="margin-top:1rem;">Your Info</h3>
              <div class="grid" style="grid-template-columns:1fr 1fr;gap:1rem;">
                <div><label for="name" class="neon-text">Name</label><input id="name" type="text" name="Name" placeholder="Your name" required></div>
                <div><label for="email" class="neon-text">Email</label><input id="email" type="email" name="Email" placeholder="Email address" required></div>
              </div>
              <label for="notes" class="neon-text">Notes</label>
              <textarea id="notes" name="Notes" rows="4" placeholder="Any extra requests?"></textarea>

              <button type="submit" class="btn neon-btn pulse" data-track="cta" data-label="Submit Build Sheet">Submit Build Sheet</button>
              <p id="buildStatus" class="form-status" aria-live="polite"></p>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="route section container contact hidden">
      <div class="contact-card">
        <div class="contact-body">
          <h1 class="neon-text">Contact</h1>
        <p>Tell us how many karts you need, where you’ll run them, and any special requests. We’ll spec a build and timeline.</p>

          <form id="contactForm" action="https://formspree.io/f/xandlqzb" method="POST" class="contact-form" novalidate>
            <div class="grid">
              <div><label for="cname" class="neon-text">Name</label><input id="cname" type="text" name="name" placeholder="Your name" required></div>
              <div><label for="cemail" class="neon-text">Email</label><input id="cemail" type="email" name="email" placeholder="Email address" required></div>
            </div>
            <label for="company" class="neon-text">Company / Team (optional)</label>
            <input id="company" type="text" name="company" placeholder="Company / Team">
            <label for="cmsg" class="neon-text">Message</label>
            <textarea id="cmsg" name="message" rows="5" placeholder="What are you building toward?" required></textarea>

            <button type="submit" class="btn neon-btn pulse" data-track="cta" data-label="Send Contact">Send</button>
            <p id="formStatus" class="form-status" aria-live="polite"></p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <span>© <span id="year"></span> Snailkarts</span>
    </div>
  </footer>

  <script>
    // --------- Analytics helpers (safe) ----------
    function sendPageview(route){
      // hashed path for SPA analytics
      plausible && plausible('pageview', { u: location.origin + '/#' + route });
    }
    function track(name, props){
      if (typeof plausible === 'function') {
        props ? plausible(name, { props }) : plausible(name);
      }
    }
    const FILE_EXTS = ['pdf','zip','rar','7z','mp3','wav','mp4','mov','webm','png','jpg','jpeg','gif','svg'];

    function isExternalLink(a){
      try{ const url = new URL(a.href, location.href); return url.hostname !== location.hostname; }
      catch(e){ return false; }
    }
    function getFileExt(a){
      try{
        const url = new URL(a.href, location.href);
        const m = url.pathname.match(/\.([a-z0-9]+)$/i);
        if (!m) return null;
        const ext = m[1].toLowerCase();
        return FILE_EXTS.includes(ext) ? ext : null;
      }catch(e){ return null; }
    }

    // ---------- Router (SPA) ----------
    const routes = ["home", "karts", "gallery", "testimonials", "build", "contact"];
    const sections = Object.fromEntries(routes.map(r => [r, document.getElementById(r)]));
    const navLinks = Array.from(document.querySelectorAll('.site-nav a[data-link], .site-nav a[href^="#"]'));

    function setActive(route){
      routes.forEach(r => {
        const sec = sections[r];
        if (!sec) return;
        const isActive = r === route;
        sec.classList.toggle('hidden', !isActive);
        if (isActive) {
          sec.classList.remove('enter'); void sec.offsetWidth; sec.classList.add('enter');
        }
        sec.querySelectorAll('video').forEach(v => { try { isActive ? v.play() : v.pause(); } catch(e){} });
      });
      navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${route}`));
      window.scrollTo({ top: 0, behavior: 'instant' });
      sendPageview(route);
    }

    function router(){
      const hash = location.hash.slice(1);
      if (!routes.includes(hash)) {
        if (hash) track('Not Found', { hash: '#' + hash });
        setActive('home');
        return;
      }
      setActive(hash);
    }

    // ---------- Mobile menu ----------
    const btn = document.querySelector('.nav-toggle');
    if(btn){
      btn.addEventListener('click', () => {
        const isOpen = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!isOpen));
        document.body.classList.toggle('nav-open');
      });
    }

    // ---------- Wire everything ----------
    window.addEventListener('hashchange', router);
    window.addEventListener('DOMContentLoaded', () => {
      router();
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();

      const first = document.querySelector('.route:not(.hidden)');
      if (first) { first.classList.add('enter'); }

      // CTA click tracking
      document.body.addEventListener('click', (e) => {
        const a = e.target.closest('[data-track="cta"]');
        if (a) {
          const label = a.getAttribute('data-label') || a.textContent.trim();
          track('CTA Click', { label });
        }
      });

      // Outbound links + file downloads
      document.body.addEventListener('click', (e) => {
        const a = e.target.closest('a[href]');
        if (!a) return;
        const ext = getFileExt(a);
        if (ext) { track('File Download', { url: a.href, ext }); return; }
        if (isExternalLink(a)) { track('Outbound Link', { url: a.href }); }
      });
    });

    // ---------- AJAX forms ----------
    function wireAjaxForm(formId, statusId, eventName){
      const form = document.getElementById(formId);
      const statusEl = document.getElementById(statusId);
      if(!form || !statusEl) return;

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        statusEl.textContent = 'Sending…';
        const data = new FormData(form);
        try {
          const res = await fetch(form.action, { method:'POST', headers:{ 'Accept':'application/json' }, body:data });
          if (res.ok) {
            statusEl.style.color = '#c8ff00';
            statusEl.textContent = 'Thanks! We’ll get back to you shortly.';
            track(eventName);
            form.reset();
          } else {
            statusEl.style.color = '#ffb4c8';
            statusEl.textContent = 'Something went wrong. Please try again.';
          }
        } catch (err) {
          statusEl.style.color = '#ffb4c8';
          statusEl.textContent = 'Network error—please try again.';
        }
      });
    }
    wireAjaxForm('contactForm', 'formStatus', 'Contact Submit');
    wireAjaxForm('buildForm', 'buildStatus', 'Build Sheet Submit');

    // Revenue helper (for future payments)
    function trackPurchase(amount, currency, props){
      const payload = { revenue: { amount: amount, currency: currency } };
      if (props) payload.props = props;
      track('Purchase', payload);
    }
  </script>
</body>
</html>
